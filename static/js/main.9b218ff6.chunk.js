(this.webpackJsonplikewater=this.webpackJsonplikewater||[]).push([[1],{136:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(442),i=n(440);t.a=function(e){var t=e.inverted;return a.a.createElement(o.a,{raised:!0,basic:!0,inverted:t,style:{padding:8,height:292}},a.a.createElement("div",{style:{height:"100%",display:"flex",alignItems:"center"}},a.a.createElement(i.a,{active:!0,inline:"centered"})))}},152:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(47),a=n(63),o=n(64),i=n(233),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(a.a)(this,e),Array.isArray(t)){var n=Object(r.a)(t,2),o=n[0];this.lon=void 0===o?0:o;var i=n[1];this.lat=void 0===i?0:i}else{var c,u=t.latitude,l=t.lat,s=void 0===l?0:l,d=t.longitude,f=t.lng,v=t.lon,m=void 0===v?0:v;this.lon=null!==(c=null!==d&&void 0!==d?d:f)&&void 0!==c?c:m,this.lat=null!==u&&void 0!==u?u:s}}return Object(o.a)(e,[{key:"asArray",value:function(){return[this.lon,this.lat]}},{key:"asObject",value:function(){return{lon:this.lon,lat:this.lat}}}],[{key:"distanceBetween",value:function(e,t){var n=Object(i.getDistance)(e,t,1);return Math.round(3.28084*n)}}]),e}()},154:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return d}));var r=n(0),a=function(e){(function(e){return!!e.touches})(e)&&e.touches.length>1&&e.preventDefault&&e.preventDefault&&e.preventDefault()},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.isPreventDefault,o=void 0===n||n,i=t.delay,c=void 0===i?500:i,u=Object(r.useRef)(),l=Object(r.useRef)(),s=Object(r.useCallback)((function(t,n){var r=n.originalEvent;o&&r.target&&(r.target.addEventListener("touchend",a,{passive:!1}),l.current=r.target),r.touches.length<2&&(u.current=setTimeout((function(){e(t,n)}),c))}),[e,c]),d=Object(r.useCallback)((function(e,t){u.current&&clearTimeout(u.current),o&&l.current&&l.current.removeEventListener("touchend",a)}),[]);return{onTouchStart:s,onTouchEnd:d}},i=n(12),c=n(8),u=function(e){switch(e){case c.a:return{icon:"first-aid-kit",color:"gainsboro"};case c.b:return{icon:"lifebuoy",color:"crimson"};case c.c:return{icon:"broadcast",color:"mediumseagreen"};case c.e:return{icon:"alarm-warning",color:"royalblue"};case c.g:return{icon:"fire",color:"darkorange"};default:return{icon:"pushpin-2",color:"mediumpurple"}}},l=function(e){switch(e){case"distance":return function(e,t){return e.distance-t.distance};case"time":return function(e,t){var n,r;return null!==(n=null!==(r=e.lastConfirmDt)&&void 0!==r?r:e.reportedDt-t.lastConfirmDt)&&void 0!==n?n:t.reportedDt};case"category":return function(e,t){return e.eventCategory-t.eventCategory};default:return function(e,t){return e.distance-t.distance}}},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"distance",r=e.map((function(e){return Object(i.a)(Object(i.a)({},e),u(e.eventCategory))}));return n&&r.sort(l(n)),t?r.filter((function(e){return!!t[e.eventCategory]})):r},d=function(e,t,n){return Object(r.useMemo)((function(){return s(e,t,n)}),[e,t,n])}},222:function(e,t,n){e.exports=n.p+"static/media/first-aid-kit-fill.f96d703e.svg"},223:function(e,t,n){e.exports=n.p+"static/media/broadcast-fill.d068d7ab.svg"},224:function(e,t,n){e.exports=n.p+"static/media/alarm-warning-fill.129f3113.svg"},225:function(e,t,n){e.exports=n.p+"static/media/fire-fill.feb2802d.svg"},226:function(e,t,n){e.exports=n.p+"static/media/lifebuoy-fill.0b35b227.svg"},227:function(e,t,n){e.exports=n.p+"static/media/pushpin-2-fill.466aaf39.svg"},228:function(e,t,n){e.exports=n.p+"static/media/focus-3-line.ec68912f.svg"},258:function(e,t,n){e.exports=n(439)},269:function(e,t,n){},439:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(36),i=n.n(o),c=n(26),u=n(82),l=(n(267),n(268),n(269),n(47)),s=n(455),d=n(9),f=n(451),v=Object(c.b)(null,{setCurrentPosition:d.s})((function(e){var t=e.setCurrentPosition,n=Object(f.a)({enableHighAccuracy:!0,maximumAge:3e4,timeout:3e4});return Object(r.useEffect)((function(){var e=!0;return!n.loading&&n.longitude&&n.latitude&&e&&t(n),function(){return e=!1}}),[n,t]),null})),m=n(12),p=n(19),b=n(454),g=n(22),h=n(8),y=n(154),E=n(441),O=Object(c.b)((function(e){return{shouldUseGeolocation:e.map.shouldUseGeolocation}}),{setUseGeolocation:d.x,setCurrentPosition:d.s})((function(e){var t=e.context,n=e.inverted,o=e.currentPosition,i=e.shouldUseGeolocation,c=e.setUseGeolocation,u=e.setCurrentPosition;Object(r.useEffect)((function(){o&&i&&t.flyTo({center:[o.longitude,o.latitude],zoom:16})}),[t,o,i]);return a.a.createElement("div",null,a.a.createElement(E.a,{title:"Reorient map",icon:"arrow up",color:n?"black":null,style:{position:"absolute",top:98,right:3},onClick:function(){t.rotateTo(0)}}),a.a.createElement(E.a.Group,{vertical:!0,style:{position:"absolute",top:142,right:6}},a.a.createElement(E.a,{title:"Zoom in",color:n?"black":null,icon:"plus",onClick:function(){t.zoomIn()}}),a.a.createElement(E.a,{title:"Zoom out",color:n?"black":null,icon:"minus",onClick:function(){t.zoomOut()}})),a.a.createElement(E.a,{title:"Track my location",color:i?"blue":n?"black":null,icon:"location arrow",style:{position:"absolute",top:222,right:3},onClick:function(){c(!i)}}),a.a.createElement(E.a,{title:"Center map on my location",color:n?"black":null,icon:"crosshairs",style:{position:"absolute",top:266,right:3},onClick:function(){navigator.geolocation.getCurrentPosition((function(e){var n=e.coords;u(n),t.flyTo({center:[n.longitude,n.latitude],zoom:16})}),(function(e){console.error(e),o&&t.flyTo({center:[o.longitude,o.latitude],zoom:16})}),{maximumAge:0,timeout:3e3})}}))})),j=function(e){var t=e.type,n=void 0===t?h.c:t,r=e.events,o=void 0===r?[]:r,i=e.onMouseEvents,c=e.visibility,u=void 0===c||c,l=e.allowOverlap,s=void 0!==l&&l;return a.a.createElement(g.c,{id:n,type:"symbol",layout:{visibility:u?"visible":"none","icon-image":n,"icon-allow-overlap":s},paint:{"icon-color":"red","icon-halo-blur":1,"icon-halo-width":40,"icon-halo-color":"#ff0000"}},o.map((function(e){var t=e.eventId,n=e.coordinates,r=n.lon,o=n.lat;return a.a.createElement(g.a,Object.assign({key:t,coordinates:[r,o],properties:e},i))})))},k=n(222),w=n.n(k),C=n(223),x=n.n(C),P=n(224),T=n.n(P),I=n(225),S=n.n(I),M=n(226),_=n.n(M),D=n(227),U=n.n(D),z=n(228),N=n.n(z),A=new Image(24,24);A.src=w.a;var G=new Image(24,24);G.src=x.a;var J=new Image(24,24);J.src=T.a;var F=new Image(24,24);F.src=S.a;var B=new Image(24,24);B.src=_.a;var L=new Image(24,24);L.src=U.a;var R=new Image(24,24);R.src=N.a;var Z,V,W=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(g.b,{id:h.a,data:A}),a.a.createElement(g.b,{id:h.c,data:G}),a.a.createElement(g.b,{id:h.e,data:J}),a.a.createElement(g.b,{id:h.g,data:F}),a.a.createElement(g.b,{id:h.b,data:B}),a.a.createElement(g.b,{id:h.d,data:L}),a.a.createElement(g.b,{id:h.f,data:R}))},X=Object(g.e)({accessToken:"pk.eyJ1IjoicmVrdGRlY2thcmQiLCJhIjoiY2theWJ4OXM0MGhiejJ3cnkzcmk0andiYyJ9.IinlG0vyUvcWhvlAREJXeA",attributionControl:!1,trackResize:!1}),Y={defaultZoom:[10],volumetricPainter:{"fill-extrusion-height":{type:"identity",property:"height"},"fill-extrusion-base":{type:"identity",property:"min_height"},"fill-extrusion-opacity":.6}},q=Object(c.b)((function(e){return{map:e.map,events:e.events}}),{setMarkerPosition:d.w})((function(e){var t=e.map,n=e.events,o=e.onMoveEnd,i=e.toggleControls,c=e.setMarkerPosition,u=e.inverted,l=Object(p.f)(),s=Object(b.a)(),d=s.width,f=s.height,v=Object(r.useRef)(t.defaultPosition),E=t.currentPosition,k=t.markerPosition,w=t.showVolumetricBuildings,C=(t.showBasicMapFeatures,n.nearbyEvents),x=n.eventFilters,P=function(e,t){e.map.getCanvas().style.cursor=t},T=Object(r.useCallback)((function(e){var t=e.map,n=e.feature.properties,r=n.eventId,a=n.coordinates;e.originalEvent.preventDefault();var o=JSON.parse(a),c=o.lon,u=o.lat;t.flyTo({center:[c,u],zoom:16}),i(!0),l.push("/events/".concat(r))}),[l,i]),I=Object(r.useMemo)((function(){return{onMouseEnter:function(e){return P(e,"pointer")},onMouseLeave:function(e){return P(e,"")},onClick:T}}),[T]),S=function(e,t){if(!(e.isMoving()||e.isRotating()||e.isZooming())){var n=t.lngLat,r=n.lat,a=n.lng;i(!0),c([a,r]),e.flyTo({center:[a,r],zoom:16}),l.push("/submit")}},M=Object(y.c)(S,{isPreventDefault:!0,delay:500});return a.a.createElement(X,Object.assign({style:u?"mapbox://styles/rektdeckard/ckayd52rb0xzg1imcbyek0g4y":"mapbox://styles/mapbox/light-v10",containerStyle:{width:d,height:f},center:v.current,zoom:Y.defaultZoom,onStyleLoad:function(e){e.on("click",(function(e){e.originalEvent.defaultPrevented||(c(null),l.push("/"))}))},onContextMenu:S,onMoveEnd:o},M),a.a.createElement(W,null),w&&a.a.createElement(g.c,{id:"3d-buildings",type:"fill-extrusion",sourceId:"composite",sourceLayer:"building",filter:["==","extrude","true"],minZoom:14,paint:Object(m.a)(Object(m.a)({},Y.volumetricPainter),{},{"fill-extrusion-color":u?"#424D5C":"#CAD2D3"})}),a.a.createElement(g.d.Consumer,null,(function(e){var t=e.getZoom()>15;return a.a.createElement(a.a.Fragment,null,a.a.createElement(O,{context:e,currentPosition:E,inverted:u}),x[h.a]&&a.a.createElement(j,{type:h.a,events:C.filter((function(e){return e.eventCategory===h.a})),onMouseEvents:I,visibility:x.aid,allowOverlap:t}),x[h.c]&&a.a.createElement(j,{type:h.c,events:C.filter((function(e){return e.eventCategory===h.c})),onMouseEvents:I,visibility:x.info,allowOverlap:t}),x[h.e]&&a.a.createElement(j,{type:h.e,events:C.filter((function(e){return e.eventCategory===h.e})),onMouseEvents:I,visibility:x.police,allowOverlap:t}),x[h.g]&&a.a.createElement(j,{type:h.g,events:C.filter((function(e){return e.eventCategory===h.g})),onMouseEvents:I,visibility:x.safety,allowOverlap:t}),x[h.b]&&a.a.createElement(j,{type:h.b,events:C.filter((function(e){return e.eventCategory===h.b})),onMouseEvents:I,visibility:x.sos,allowOverlap:t}))})),k&&a.a.createElement(g.c,{id:"map-marker",type:"symbol",layout:{"icon-image":"PIN","icon-anchor":"bottom","icon-allow-overlap":!0}},a.a.createElement(g.a,{coordinates:k})),E&&a.a.createElement(g.c,{id:"location-marker",type:"symbol",layout:{"icon-image":"POSITION","icon-allow-overlap":!0}},a.a.createElement(g.a,{coordinates:[E.longitude,E.latitude],properties:E})))})),H=n(442),Q=n(457),$=n(456),K=Object(c.b)(null,{toggleTheme:d.y})((function(e){var t=e.inverted,n=(e.visible,e.toggleControls),o=e.toggleTheme,i=Object(r.useState)(""),c=Object(l.a)(i,2),u=c[0],d=c[1];return a.a.createElement(s.a,{as:H.a,basic:!t,inverted:t,raised:!0,direction:"top",animation:"push",textAlign:"center",visible:!0,style:{padding:0,boxShadow:"none"}},a.a.createElement(Q.a,{inverted:t,borderless:!0,widths:3},a.a.createElement(Q.a.Item,null," "),a.a.createElement(Q.a.Item,{fitted:!0},a.a.createElement($.a,{disabled:!0,value:u,onSearchChange:function(e,t){var n=t.value;return d(n)},onFocus:function(){return n(!1)},onBlur:function(){return n(!0)},open:!1})),a.a.createElement(Q.a.Menu,{position:"right"},a.a.createElement(Q.a.Item,null,a.a.createElement(E.a,{circular:!0,size:"large",color:t?"black":null,icon:"setting",floated:"right",onClick:o})))))})),ee=n(136),te=a.a.lazy((function(){return Promise.all([n.e(0),n.e(5),n.e(7)]).then(n.bind(null,497))})),ne=a.a.lazy((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,501))})),re=a.a.lazy((function(){return Promise.all([n.e(4),n.e(8)]).then(n.bind(null,498))})),ae=Object(c.b)((function(e){return{inverted:e.preferences.invertedTheme}}),{setMarkerAtMapPosition:d.v})(Object(p.i)((function(e){var t=e.setMarkerAtMapPosition,n=e.inverted,o=e.visible,i=Object(p.g)(),c=Object(p.f)(),u=Object(r.useMemo)((function(){return a.a.createElement(ee.a,{inverted:n})}),[n]);return a.a.createElement(s.a,{className:"no-overflow unclickable",animation:"push",direction:"bottom",visible:o,style:{boxShadow:"none"}},a.a.createElement("div",{style:{textAlign:"right"}},a.a.createElement(E.a,{className:"clickable",circular:!0,compact:!0,color:n?"black":null,size:"huge",icon:"/submit"===i.pathname?"close":"thumbtack",onClick:function(){"/submit"===i.pathname?c.push("/"):(t(),c.push("/submit"))}})),a.a.createElement(r.Suspense,{fallback:u},a.a.createElement(p.c,null,a.a.createElement(p.a,{path:"/events/:id"},a.a.createElement(ne,{inverted:n})),a.a.createElement(p.a,{exact:!0,path:"/submit"},a.a.createElement(re,{inverted:n})),a.a.createElement(p.a,{exact:!0,path:"/sos"},a.a.createElement(ee.a,{inverted:n})),a.a.createElement(p.a,null,a.a.createElement(te,{inverted:n})))))}))),oe=n(152),ie=Object(c.b)((function(e){return{shouldUseGeolocation:e.map.shouldUseGeolocation,defaultPosition:e.map.defaultPosition,inverted:e.preferences.invertedTheme}}),{initializeUser:d.p,initializeGeolocation:d.o,getEvents:d.n,getEventTypes:d.m,setMapPosition:d.u})((function(e){var t=e.initializeUser,n=e.initializeGeolocation,o=e.shouldUseGeolocation,i=e.defaultPosition,c=e.getEvents,u=e.getEventTypes,d=e.setMapPosition,f=e.inverted,m=Object(r.useState)(!0),p=Object(l.a)(m,2),b=p[0],g=p[1];Object(r.useEffect)((function(){t(),n(),u(),c({coordinates:{lon:i[0],lat:i[1]}})}),[t,n,c,u,i]);var h=function(e){if("boolean"===typeof e)return g(e);g((function(e){return!e}))};return a.a.createElement(a.a.Fragment,null,o&&a.a.createElement(v,null),a.a.createElement(s.a.Pushable,{className:"no-overflow"},a.a.createElement(K,{inverted:f,visible:b,toggleControls:h}),a.a.createElement(ae,{inverted:f,visible:b}),a.a.createElement(s.a.Pusher,null,a.a.createElement(q,{inverted:f,toggleControls:h,onMoveEnd:function(e){var t=e.getCenter(),n=t.lng,r=t.lat,a=e.getBounds(),o=a._sw,i=a._ne,u=oe.a.distanceBetween(o,i)/2;d([n,r]),c({coordinates:{lon:n,lat:r},radius:u})},onContextMenu:function(e){console.log(e)}}))))})),ce=n(57),ue=n(234),le=n(48),se={dangerClose:!1,nearbyEvents:[],eventTypes:null,eventFilters:(Z={},Object(le.a)(Z,h.a,!0),Object(le.a)(Z,h.c,!0),Object(le.a)(Z,h.e,!0),Object(le.a)(Z,h.g,!0),Object(le.a)(Z,h.b,!0),Z)},de=null!==(V=JSON.parse(localStorage.getItem(d.g)))&&void 0!==V?V:[-74,40.73],fe={markerPosition:null,currentPosition:null,defaultPosition:de,mapPosition:de,shouldUseGeolocation:!1,showBasicMapFeatures:!0,showVolumetricBuildings:!0},ve={invertedTheme:!0},me={userToken:null,validUntil:null},pe=Object(ce.c)({events:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case d.a:return Object(m.a)(Object(m.a)({},e),{},{nearbyEvents:r});case d.c:return Object(m.a)(Object(m.a)({},e),{},{eventTypes:r});case d.h:return Object(m.a)(Object(m.a)({},e),{},{eventFilters:Object(m.a)(Object(m.a)({},e.eventFilters),r)});default:return e}},map:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case d.j:return Object(m.a)(Object(m.a)({},e),{},{markerPosition:r});case d.f:return Object(m.a)(Object(m.a)({},e),{},{currentPosition:r});case d.i:return Object(m.a)(Object(m.a)({},e),{},{mapPosition:r});case d.g:return Object(m.a)(Object(m.a)({},e),{},{defaultPosition:r});case d.k:return Object(m.a)(Object(m.a)({},e),{},{shouldUseGeolocation:r});default:return e}},preferences:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0,n=t.type;t.payload;switch(n){case d.l:return Object(m.a)(Object(m.a)({},e),{},{invertedTheme:!e.invertedTheme});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case d.d:return r;case d.e:return me;default:return e}}}),be=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ce.d,ge=Object(ce.e)(pe,{},be(Object(ce.a)(ue.a)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(c.a,{store:ge},a.a.createElement(u.a,null,a.a.createElement(ie,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},67:function(e,t,n){"use strict";var r=n(218),a=n.n(r).a.create({baseURL:"https://likewater-internal.azurewebsites.net/api"});t.a=a},8:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return l}));var r="AID",a="INFO",o="POLICE",i="SAFETY",c="SOS",u="PIN",l="POSITION"},9:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"h",(function(){return i})),n.d(t,"g",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"j",(function(){return l})),n.d(t,"i",(function(){return s})),n.d(t,"k",(function(){return d})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return v})),n.d(t,"l",(function(){return m})),n.d(t,"n",(function(){return y})),n.d(t,"m",(function(){return E})),n.d(t,"q",(function(){return O})),n.d(t,"r",(function(){return j})),n.d(t,"t",(function(){return k})),n.d(t,"w",(function(){return w})),n.d(t,"v",(function(){return C})),n.d(t,"s",(function(){return x})),n.d(t,"u",(function(){return P})),n.d(t,"x",(function(){return T})),n.d(t,"o",(function(){return I})),n.d(t,"y",(function(){return S})),n.d(t,"p",(function(){return D}));var r="fetch_events",a="fetch_event_types",o="fetch_event_details",i="update_event_filter",c="update_default_position",u="set_current_position",l="set_marker_position",s="set_map_center",d="set_use_geolocation",f="initialize_user",v="invalidate_user",m="toggle_theme",p=n(25),b=n.n(p),g=n(44),h=n(67),y=function(e){var t=e.coordinates,n=e.radius,a=void 0===n?75e3:n,o=e.userToken,i=void 0===o?"UNASSIGNED":o;return function(){var e=Object(g.a)(b.a.mark((function e(n){var o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("/getevents",{coordinates:t,radius:a,userToken:i});case 2:o=e.sent,n({type:r,payload:o.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},E=function(){return function(){var e=Object(g.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("/geteventtypes");case 2:n=e.sent,t({type:a,payload:n.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},O=function(e){var t=e.coordinates,n=e.eventCategory,r=e.eventType,a=e.eventDesc;return function(){var e=Object(g.a)(b.a.mark((function e(o,i){var c,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=null!==(c=i().user.userToken)&&void 0!==c?c:"UNASSIGNED",e.next=3,h.a.post("/reportevent",{coordinates:t,eventCategory:n,eventType:r,eventDesc:a,userToken:u});case 3:e.sent,o(y({coordinates:t,userToken:u}));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},j=function(e){var t=e.eventId,n=e.eventActive;return function(){var e=Object(g.a)(b.a.mark((function e(r,a){var o,i,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=null!==(o=a().user.userToken)&&void 0!==o?o:"UNASSIGNED",e.next=3,h.a.post("/respondtoevent",{eventId:t,eventActive:n,userToken:i});case 3:c=e.sent,console.log(c),c.status;case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:i,payload:e}},w=function(e){return{type:l,payload:e}},C=function(){return function(e,t){e({type:l,payload:t().map.mapPosition})}},x=function(e){return{type:u,payload:e}},P=function(e){return{type:s,payload:e}},T=function(e){return function(){var t=Object(g.a)(b.a.mark((function t(n){var r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return localStorage.setItem(d,JSON.stringify(!!e)),t.next=3,navigator.permissions.query({name:"geolocation"});case 3:r=t.sent,r.state,n({type:d,payload:!!e}),e||n(x(null));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},I=function(){return function(){var e=Object(g.a)(b.a.mark((function e(t,n){var r,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=JSON.parse(localStorage.getItem(d)),navigator.permissions.query({name:"geolocation"}).then((function(e){a=e.state,e.onchange=function(e){var r=e.target.state;t({type:d,payload:n().map.shouldUseGeolocation&&"granted"===r})}})),t({type:d,payload:r&&"granted"===a});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},S=function(){return{type:m}},M=n(458),_=n(459),D=function(){var e,t=null!==(e=JSON.parse(localStorage.getItem(f)))&&void 0!==e?e:{},n=t.userToken,r=t.validUntil;return(!n||!r||Date.now()>r)&&(n=Object(M.a)(),r=Object(_.a)(Date.now(),1).getTime(),localStorage.setItem(f,JSON.stringify({userToken:n,validUntil:r}))),{type:f,payload:{userToken:n,validUntil:r}}}}},[[258,2,3]]]);
//# sourceMappingURL=main.9b218ff6.chunk.js.map