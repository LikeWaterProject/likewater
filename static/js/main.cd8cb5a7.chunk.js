(this.webpackJsonplikewater=this.webpackJsonplikewater||[]).push([[0],{204:function(e,t,n){e.exports=n(378)},214:function(e,t,n){},378:function(e,t,n){"use strict";n.r(t);var a,i=n(0),r=n.n(i),o=n(27),c=n.n(o),l=n(50),s=n(111),u=(n(213),n(118)),m=n(390),d=(n(214),n(389)),p=n(63),h=Object(p.c)({accessToken:"pk.eyJ1IjoicmVrdGRlY2thcmQiLCJhIjoiY2theWJ4OXM0MGhiejJ3cnkzcmk0andiYyJ9.IinlG0vyUvcWhvlAREJXeA"}),v=[10],f={"fill-extrusion-color":"#424d5c","fill-extrusion-height":{type:"identity",property:"height"},"fill-extrusion-base":{type:"identity",property:"min_height"},"fill-extrusion-opacity":.6},b=[{mentions:4.96,lastMention:1591135064030,location:[-73.978698,40.685457]},{mentions:1.22,lastMention:159113501e4,location:[-74.011379,40.708201]},{mentions:2.4,lastMention:1591134911238,location:[-73.987529,40.752137]}],E=Object(l.b)((function(e){return{preferences:e.preferences}}),{})((function(e){var t=e.position,n=e.onClick,a=e.preferences,i=Object(d.a)(),o=i.width,c=i.height;if(!t)return null;var l=a.showVolumetricBuildings;a.showBasicMapFeatures;return r.a.createElement("div",{style:{width:o,height:c}},r.a.createElement(h,{style:"mapbox://styles/rektdeckard/ckayd52rb0xzg1imcbyek0g4y",center:t,zoom:v,containerStyle:{height:"100%",width:"100%"},onDragStart:n,onDragEnd:n},l&&r.a.createElement(p.b,{id:"3d-buildings",type:"fill-extrusion",sourceId:"composite",sourceLayer:"building",filter:["==","extrude","true"],minZoom:14,paint:f}),r.a.createElement(p.b,{id:"event-markers",type:"symbol",layout:{"icon-image":"police-15"}},b.map((function(e,t){return r.a.createElement(p.a,{key:t,coordinates:e.location,properties:e})})))))})),g=n(393),y=n(387),O=function(e){var t=e.visible;return r.a.createElement(m.a,{as:g.a,inverted:!0,raised:!0,direction:"top",animation:"overlay",textAlign:"center",visible:t},r.a.createElement(y.a,null))},w=n(15),k=n(392),j=n(391),_=n(386),x=r.a.lazy((function(){return n.e(3).then(n.bind(null,395))})),S=Object(w.h)((function(e){var t=e.visible,n=Object(w.g)(),a=Object(w.f)(),o=function(e){a.push(e)};return r.a.createElement(m.a,{as:g.a,raised:!0,inverted:!0,style:{padding:0},className:"no-overflow",animation:"overlay",direction:"bottom",visible:t},r.a.createElement(k.a,{compact:!0,pointing:!0,inverted:!0,secondary:!0,size:"large",widths:8,icon:"labeled"},r.a.createElement(k.a.Item,{name:"List",onClick:function(){return o("/list")},active:"/list"===n.pathname}),r.a.createElement(k.a.Item,{name:"Report",onClick:function(){return o("/report")},active:"/report"===n.pathname}),r.a.createElement(k.a.Item,{name:"SOS",onClick:function(){return o("/sos")},active:"/sos"===n.pathname})),r.a.createElement(w.c,null,r.a.createElement(w.a,{exact:!0,path:"/list"},r.a.createElement(i.Suspense,{fallback:r.a.createElement(j.a,{active:!0},r.a.createElement(_.a,null))},r.a.createElement(x,null))),r.a.createElement(w.a,{exact:!0,path:"/report"},r.a.createElement(g.a,{inverted:!0,style:{minHeight:200},content:r.a.createElement(j.a,{active:!0},r.a.createElement(_.a,null))})),r.a.createElement(w.a,{exact:!0,path:"/sos"},r.a.createElement(g.a,{inverted:!0},'This is the "/sos" route'))))})),I=Object(l.b)((function(e){return{preferences:e.preferences,events:e.events}}),{})((function(e){e.events;var t=e.preferences,n=Object(i.useState)(t.defaultPosition),a=Object(u.a)(n,2),o=a[0],c=a[1],l=Object(i.useState)(!0),s=Object(u.a)(l,2),d=s[0],p=s[1];Object(i.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){var t=e.coords,n=t.longitude,a=t.latitude;c([n,a])}),console.error,{enableHighAccuracy:!1,maximumAge:15e3,timeout:3e4})}),[]);return r.a.createElement(m.a.Pushable,{className:"no-overflow"},r.a.createElement(O,{visible:d}),r.a.createElement(S,{visible:d}),r.a.createElement(m.a.Pusher,null,r.a.createElement(E,{position:o,onClick:function(e){console.log(e),p((function(e){return!e}))}})))})),C=n(40),J=n(192),M=n(62),P=(n(41),n(84),n(193)),B=(n.n(P).a.create({baseURL:""}),{dangerClose:!1,nearbyEvents:[]}),z={defaultPosition:null!==(a=JSON.parse(localStorage.getItem("update_default_position")))&&void 0!==a?a:[-74,40.73],eventFilter:[],showBasicMapFeatures:!0,showVolumetricBuildings:!0},A=Object(C.c)({events:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"fetch_events":return Object(M.a)({},e,{nearbyEvents:a});default:return e}},preferences:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"update_default_position":return Object(M.a)({},e,{defaultPosition:a});case"update_event_filter":return Object(M.a)({},e,{eventFilter:a});default:return e}}}),L=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||C.d,N=Object(C.e)(A,{},L(Object(C.a)(J.a)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(l.a,{store:N},r.a.createElement(s.a,null,r.a.createElement(I,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[204,1,2]]]);
//# sourceMappingURL=main.cd8cb5a7.chunk.js.map